webpackJsonp([1,8],{16:function(e,t,r){r(24),e.exports=r(5).Object.assign},19:function(e,t,r){"use strict";var a=r(21),o=r(20),i=r(22),s=r(23),n=r(30),l=Object.assign;e.exports=!l||r(14)(function(){var e={},t={},r=Symbol(),a="abcdefghijklmnopqrst";return e[r]=7,a.split("").forEach(function(e){t[e]=e}),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=a})?function(e,t){for(var r=s(e),l=arguments.length,d=1,c=o.f,u=i.f;l>d;)for(var m,p=n(arguments[d++]),h=c?a(p).concat(c(p)):a(p),f=h.length,v=0;f>v;)u.call(p,m=h[v++])&&(r[m]=p[m]);return r}:l},20:function(e,t){t.f=Object.getOwnPropertySymbols},22:function(e,t){t.f={}.propertyIsEnumerable},24:function(e,t,r){var a=r(13);a(a.S+a.F,"Object",{assign:r(19)})},25:function(e,t,r){e.exports={default:r(16),__esModule:!0}},78:function(e,t){"use strict";function r(e){this.Valid=!1,this.ID15="",this.ID18="",this.Local="",null!=e&&this.SetCardNo(e)}r.prototype.SetCardNo=function(e){this.ID15="",this.ID18="",this.Local="",e=e.replace(" ","");var t;if(18===e.length){var r=/^\d{17}(\d|x|X)$/;if(null==r.exec(e))return;t=e.toUpperCase()}else{if(r=/^\d{15}$/,null==r.exec(e))return;t=e.substr(0,6)+"19"+e.substr(6,9),t+=this.GetVCode(t)}18!==e.length?this.Valid=!1:this.Valid=this.CheckValid(t)},r.prototype.IsValid=function(){return this.Valid},r.prototype.GetBirthDate=function(){var e="";return this.Valid&&(e=this.GetBirthYear()+"-"+this.GetBirthMonth()+"-"+this.GetBirthDay()),e},r.prototype.GetBirthYear=function(){var e="";return this.Valid&&(e=this.ID18.substr(6,4)),e},r.prototype.GetBirthMonth=function(){var e="";return this.Valid&&(e=this.ID18.substr(10,2)),"0"===e.charAt(0)&&(e=e.charAt(1)),e},r.prototype.GetBirthDay=function(){var e="";return this.Valid&&(e=this.ID18.substr(12,2)),e},r.prototype.GetSex=function(){var e="";return this.Valid&&(e=this.ID18.charAt(16)%2),e},r.prototype.Get15=function(){var e="";return this.Valid&&(e=this.ID15),e},r.prototype.Get18=function(){var e="";return this.Valid&&(e=this.ID18),e},r.prototype.GetLocal=function(){var e="";return this.Valid&&(e=this.Local),e},r.prototype.GetVCode=function(e){for(var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],r=["1","0","X","9","8","7","6","5","4","3","2"],a=0,o=0;o<e.length;o++)a+=e.charAt(o)*t[o];var i=a%11;return r[i]},r.prototype.CheckValid=function(e){if(this.GetVCode(e.substr(0,17))!==e.charAt(17))return!1;if(!this.IsDate(e.substr(6,8)))return!1;var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};return null!=t[parseInt(e.substr(0,2))]&&(this.ID18=e,this.ID15=e.substr(0,6)+e.substr(8,9),this.Local=t[parseInt(e.substr(0,2))],!0)},r.prototype.IsDate=function(e){var t=e.match(/^(\d{1,4})(\d{1,2})(\d{1,2})$/);if(null==t)return!1;var r=new Date(t[1],t[2]-1,t[3]);return r.getFullYear()===t[1]/1&&r.getMonth()+1===t[2]/1&&r.getDate()===t[3]/1},e.exports=function(e){return new r(e).IsValid()}},83:function(e,t,r){t=e.exports=r(8)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"userList.vue",sourceRoot:"webpack://"}])},95:function(e,t,r){var a=r(83);"string"==typeof a&&(a=[[e.id,a,""]]);r(9)(a,{});a.locals&&(e.exports=a.locals)},153:function(e,t,r){r(95);var a=r(3)(r(214),r(163),"data-v-adb5df92",null);e.exports=a.exports},163:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"search-area"},[r("el-form",{ref:"searchForm",attrs:{"label-position":"right","label-width":"80px",model:e.searchForm,inline:!0,rules:e.searchRules}},[r("el-form-item",{staticClass:"search-form-item",attrs:{label:"姓名"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.searchForm.userName,expression:"searchForm.userName"}],attrs:{placeholder:"姓名"},domProps:{value:e.searchForm.userName},on:{input:function(t){e.searchForm.userName=t}}})],1),e._v(" "),r("el-form-item",{staticClass:"search-form-item",attrs:{label:"手机号码",prop:"userMobile"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.searchForm.userMobile,expression:"searchForm.userMobile"}],attrs:{placeholder:"手机号码"},domProps:{value:e.searchForm.userMobile},on:{input:function(t){e.searchForm.userMobile=t}}})],1),e._v(" "),r("el-form-item",{staticClass:"search-form-item",attrs:{label:"身份证号",prop:"userIdentity"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.searchForm.userIdentity,expression:"searchForm.userIdentity"}],attrs:{placeholder:"身份证号"},domProps:{value:e.searchForm.userIdentity},on:{input:function(t){e.searchForm.userIdentity=t}}})],1),e._v(" "),r("el-form-item",{staticClass:"search-form-item",attrs:{label:"状态"}},[r("el-select",{directives:[{name:"model",rawName:"v-model",value:e.searchForm.state,expression:"searchForm.state"}],attrs:{placeholder:"状态"},domProps:{value:e.searchForm.state},on:{input:function(t){e.searchForm.state=t}}},[r("el-option",{attrs:{label:"已确认授权",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"用户未提交",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"正在获取数据",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"数据已获取",value:"3"}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"search-form-item",attrs:{label:"类型"}},[r("el-select",{directives:[{name:"model",rawName:"v-model",value:e.searchForm.typeId,expression:"searchForm.typeId"}],attrs:{placeholder:"类型"},domProps:{value:e.searchForm.typeId},on:{input:function(t){e.searchForm.typeId=t}}},[r("el-option",{attrs:{label:"公积金",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"地税",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"移动",value:"3"}})],1)],1),e._v(" "),r("el-row",[r("el-form-item",[r("el-button",{nativeOn:{click:function(t){e.handleSearch(t)}}},[e._v("查询")]),e._v(" "),r("el-button",{nativeOn:{click:function(t){e.handleResetSearchForm(t)}}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.handleAddNew(t)}}},[e._v("新增")])],1)],1)],1)],1),e._v(" "),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.searchLoading,expression:"searchLoading"}],staticClass:"table-area"},[r("el-table",{attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),r("el-table-column",{attrs:{label:"姓名",width:"80",prop:"customer_realName"}}),e._v(" "),r("el-table-column",{attrs:{label:"手机号码",width:"150",prop:"customer_mobile"}}),e._v(" "),r("el-table-column",{attrs:{label:"身份证号码",width:"200",prop:"customer_identity"}}),e._v(" "),r("el-table-column",{attrs:{label:"日期",width:"200"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[e._v(e._s(e._f("formatTime")(e.row.credit_time,"yyyy-MM-dd hh:mm:ss")))])},staticRenderFns:[]}}),e._v(" "),r("el-table-column",{attrs:{label:"类型"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-tag",{attrs:{type:e.getTagType(e.row.code_info)}},[e._v("\n            "+e._s(e.row.code_info)+"\n          ")])},staticRenderFns:[]}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",width:"150",formatter:e.formatState}}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[1===e.row.credit_state?r("el-button",{attrs:{size:"small",type:"danger"},nativeOn:{click:function(t){e.handleDelCustomer(e.row)}}},[e._v("删除")]):e._e(),e._v(" "),0===e.row.credit_state||3===e.row.credit_state?r("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){e.handleCheckDetail(e.row)}}},[e._v("查看")]):e._e()],1)},staticRenderFns:[]}})],1),e._v(" "),r("el-pagination",{staticClass:"form-pagination",attrs:{"page-size":e.searchData.pageSize,"page-sizes":[5,10,15,20,25,30],currentPage:e.searchData.pageNum,total:e.pageTotal,layout:"total,sizes,prev,pager,next,jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),r("el-dialog",{directives:[{name:"model",rawName:"v-model",value:e.addNewFormVisible,expression:"addNewFormVisible"}],attrs:{size:"small",title:"新增","close-on-click-modal":!1},domProps:{value:e.addNewFormVisible},on:{input:function(t){e.addNewFormVisible=t}}},[r("el-form",{ref:"addForm",attrs:{"label-width":"100px",model:e.addForm,rules:e.addRules}},[r("el-form-item",{staticClass:"dialog-form-item",attrs:{label:"姓名",prop:"customer_realName"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.addForm.customer_realName,expression:"addForm.customer_realName"}],attrs:{placeholder:"姓名"},domProps:{value:e.addForm.customer_realName},on:{input:function(t){e.addForm.customer_realName=t}}})],1),e._v(" "),r("el-form-item",{staticClass:"dialog-form-item",attrs:{label:"手机号",prop:"customer_mobile"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.addForm.customer_mobile,expression:"addForm.customer_mobile"}],attrs:{placeholder:"手机号"},domProps:{value:e.addForm.customer_mobile},on:{input:function(t){e.addForm.customer_mobile=t}}})],1),e._v(" "),r("el-form-item",{staticClass:"dialog-form-item",attrs:{label:"身份证号",prop:"customer_identity"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.addForm.customer_identity,expression:"addForm.customer_identity"}],attrs:{placeholder:"身份证号"},domProps:{value:e.addForm.customer_identity},on:{input:function(t){e.addForm.customer_identity=t}}})],1),e._v(" "),r("el-form-item",{staticClass:"dialog-form-item",attrs:{label:"类型",prop:"type_id"}},[r("el-radio-group",{directives:[{name:"model",rawName:"v-model",value:e.addForm.type_id,expression:"addForm.type_id"}],domProps:{value:e.addForm.type_id},on:{input:function(t){e.addForm.type_id=t}}},[r("el-radio",{attrs:{label:"1"}},[e._v("公积金")]),e._v(" "),r("el-radio",{attrs:{label:"2",disabled:""}},[e._v("地税")]),e._v(" "),r("el-radio",{attrs:{label:"3",disabled:""}},[e._v("移动")])],1)],1),e._v(" "),r("el-form-item",{staticClass:"dialog-form-item",attrs:{label:"备注",prop:"customer_info"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.addForm.customer_info,expression:"addForm.customer_info"}],attrs:{type:"textarea",placeholder:"备注"},domProps:{value:e.addForm.customer_info},on:{input:function(t){e.addForm.customer_info=t}}})],1),e._v(" "),r("el-form-item",{staticClass:"dialog-form-button-group"},[r("el-button",{nativeOn:{click:function(t){e.addNewFormVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.handleAddConfirm(t)}}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]}},201:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.creditMaps={typeIdMap:{1:"公积金",2:"地税",3:"移动"},tagTypeMap:{"公积金":"grey","地税":"primary","移动":"success"},stateMap:{0:"用户已确认",1:"用户未提交",2:"数据获取中",3:"数据已获取"}}},202:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(34),i=a(o),s=r(47),n=a(s);t.default={serialize:function(e){var t=[],r=!0,a=!1,o=void 0;try{for(var s,l=(0,n.default)((0,i.default)(e));!(r=(s=l.next()).done);r=!0){var d=s.value;if(e[d]instanceof Array){var c=!0,u=!1,m=void 0;try{for(var p,h=(0,n.default)(e[d]);!(c=(p=h.next()).done);c=!0){var f=p.value;t.push(d+"="+window.encodeURIComponent(f))}}catch(e){u=!0,m=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw m}}}else t.push(d+"="+e[d])}}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return t.join("&")},resetForm:function(e){var t=!0,r=!1,a=void 0;try{for(var o,s=(0,n.default)((0,i.default)(e));!(t=(o=s.next()).done);t=!0){var l=o.value;e[l]instanceof Array?e[l]=[]:e[l]=""}}catch(e){r=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw a}}},typeof:function(e){return Object.prototype.toString.call(e).substring(8).replace("]","").toLowerCase()}}},214:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(25),i=a(o),s=r(201),n=r(33),l=r(78),d=a(l),c=r(202),u=a(c);t.default={name:"userList",data:function(){var e=function(e,t,r){var a=/^1[34578]\d{9}$/;""===t||a.test(t)?r():r(new Error("手机号码输入不正确"))},t=function(e,t,r){""===t||(0,d.default)(t)?r():r(new Error("身份证号输入有误"))};return{tableData:[],searchForm:{userName:"",userMobile:"",userIdentity:"",state:"",typeId:""},searchRules:{userMobile:[{validator:e,trigger:"change"}],userIdentity:[{validator:t,trigger:"change"}]},searchData:{pageSize:10,pageNum:1},addForm:{customer_realName:"",customer_identity:"",customer_mobile:"",customer_info:"",type_id:""},addRules:{customer_realName:[{required:!0,message:"请输入姓名",trigger:"change"}],customer_mobile:[{required:!0,message:"请输入手机号",trigger:"change"},{validator:e,trigger:"change"}],customer_identity:[{required:!0,message:"请输入身份证号码",trigger:"change"},{validator:t,trigger:"change"}],type_id:[{required:!0,message:"请选择类型",trigger:"change"}]},pageTotal:0,addNewFormVisible:!1,searchLoading:!1}},methods:{getTagType:function(e){return s.creditMaps.tagTypeMap[e]||""},formatState:function(e){return s.creditMaps.stateMap[e.credit_state]||""},handleSearch:function(){var e=this;this.$refs.searchForm.validate(function(t){t&&(e.searchData=(0,i.default)(e.searchData,e.searchForm),1===e.searchData.pageNum?e.getAllCreditList():e.searchData.pageNum=1)})},handleResetSearchForm:function(){var e=this;u.default.resetForm(this.searchForm),setTimeout(function(){return e.$refs.searchForm.resetFields()},0)},handleSizeChange:function(e){this.searchData.pageSize=e},handleCurrentChange:function(e){this.searchData.pageNum=e},handleCheckDetail:function(e){this.$router.push({path:"userDetail",query:{credit_flow:e.credit_flow,type:e.code_info}})},handleAddNew:function(){this.addNewFormVisible=!0},handleAddConfirm:function(){var e=this;this.$refs.addForm.validate(function(t){t&&(e.addNewFormVisible=!1,(0,n.addCustomer)(e.addForm).then(function(t){var r=t.body;"0"===r.responseStatus&&(u.default.resetForm(e.addForm),setTimeout(function(){return e.$refs.addForm.resetFields()},0),e.getAllCreditList(),e.$notify({type:"success",title:"成功",message:"添加成功"}))}))})},handleDelCustomer:function(e){var t=this;this.$confirm("确认删除用户?","提示",{type:"warning"}).then(function(){return(0,n.delCustomer)({credit_flow:e.credit_flow})}).then(function(e){var r=e.body;"0"===r.responseStatus&&(t.getAllCreditList(),t.$notify({type:"success",title:"成功",message:"删除成功"}))})},getAllCreditList:function(){var e=this;this.searchLoading=!0,(0,n.getCreditList)(this.searchData).then(function(t){var r=t.body;"0"===r.responseStatus&&(e.pageTotal=r.object.total,e.tableData=r.object.list)}).finally(function(){e.searchLoading=!1})}},watch:{"searchData.pageSize":function(){this.getAllCreditList()},"searchData.pageNum":function(){this.getAllCreditList()}},created:function(){this.getAllCreditList()}}}});
//# sourceMappingURL=1.6d9d5c19a6ee7ed10f64.js.map